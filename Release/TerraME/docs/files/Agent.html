<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"><img src='../img/terrame.png'/><br/></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>TerraME</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->



<!-- Types list -->

<h1>Types</h1>
<ul>

		<li><strong>Agent</strong></li>
		
	

		<li>
			<a href="../files/Automaton.html">Automaton</a>
		</li>
		
	

		<li>
			<a href="../files/Cell.html">Cell</a>
		</li>
		
	

		<li>
			<a href="../files/CellularSpace.html">CellularSpace</a>
		</li>
		
	

		<li>
			<a href="../files/Coord.html">Coord</a>
		</li>
		
	

		<li>
			<a href="../files/Environment.html">Environment</a>
		</li>
		
	

		<li>
			<a href="../files/Event.html">Event</a>
		</li>
		
	

		<li>
			<a href="../files/Flow.html">Flow</a>
		</li>
		
	

		<li>
			<a href="../files/Group.html">Group</a>
		</li>
		
	

		<li>
			<a href="../files/Jump.html">Jump</a>
		</li>
		
	

		<li>
			<a href="../files/Legend.html">Legend</a>
		</li>
		
	

		<li>
			<a href="../files/Neighborhood.html">Neighborhood</a>
		</li>
		
	

		<li>
			<a href="../files/Observer.html">Observer</a>
		</li>
		
	

		<li>
			<a href="../files/Random.html">Random</a>
		</li>
		
	

		<li>
			<a href="../files/SocialNetwork.html">SocialNetwork</a>
		</li>
		
	

		<li>
			<a href="../files/Society.html">Society</a>
		</li>
		
	

		<li>
			<a href="../files/State.html">State</a>
		</li>
		
	

		<li>
			<a href="../files/Timer.html">Timer</a>
		</li>
		
	

		<li>
			<a href="../files/Trajectory.html">Trajectory</a>
		</li>
		
	


</ul>


<!-- Files list -->

<h1>Files</h1>
<ul>




















		<li>
			<a href="../files/Utils.html">Utils</a>
		</li>
		
	

</ul>


</div> <!-- id="navigation" -->

<div id="content">

<h1><code>Agent



</code></h1>


<span class="description"></span>









<span class="description">An autonomous entity that is capable of performing actions as well as interact with other Agents and the spatial representation of the model. The Agent constructor gets a table containing the attributes and functions of the Agent. It can be described as a simple table or as a hybrid state machine that has a unique internal state. When the agent has a set of states, the initial <a href=../files/State.html>State</a> will be the first declared State. When the agent does not have states, there is a set of signatures that can be implemented by the modeller, such as <a href=../files/Agent.html#init>Agent:init()</a>, <a href=../files/Agent.html#on_message>Agent:on_message()</a>, and <a href=../files/Agent.html#execute>Agent:execute()</a>. An Agent can belong to a <a href=../files/Society.html>Society</a> and can have <a href=../files/SocialNetwork.html>SocialNetworks</a>.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>execute</strong>: A function describing the behavior of the agent each time step it is executed (optional, see below).
    </li> 
    
  
    <li>
	  <strong>id</strong>: The unique identifier of the Agent. Default is a string with a numeric auto increment.
    </li> 
    
  
    <li>
	  <strong>init</strong>: A function to be executed when the Agent enters in a Society (optional, see below).
    </li> 
    
  
    <li>
	  <strong>on_message</strong>: A function describing the behavior of the agent when it receives a message (optional, see below).
    </li> 
    
  
  </span></ul>



<!-- Outputs of the function -->
<p>Attributes of Agent that can be used as <b>read-only</b> by the modeler:</p>
<ul>
<span class="output">
	
	<li>
	  <strong>cells</strong>: A vector of <a href=../files/Cell.html>Cells</a> necessary to use <a href=../files/Utils.html#forEachCell>forEachCell()</a>. This value is the same of "agent.placement.cells".
	</li>
	
	<li>
	  <strong>id</strong>: The unique identifier of the Agent within the Society (only when the Agent was not loaded from an external source).
	</li>
	
	<li>
	  <strong>parent</strong>: The Society it belongs.
	</li>
	
	<li>
	  <strong>placement</strong>: A <a href=../files/Trajectory.html>Trajectory</a> representing the default placement of the Agent (only when the Agent belongs to an <a href=../files/Environment.html>Environment</a>, be itself directly or belonging to a Society that belongs to an Environment).
	</li>
	
	<li>
	  <strong>socialnetworks</strong>: A set of SocialNetworks with the connections of the Agent.
	</li>
	
</span>
</ul>





<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span> = <span class="function">Agent</span> {
    <span class="id">id</span> = <span class="string">"MyAgent"</span>,
    <span class="function">State</span> {...},
    <span class="comment">-- ...</span>
    <span class="function">State</span> {...}
}

<span class="id">singleFooAgent</span> = <span class="function">Agent</span> {
    <span class="function">size</span> = <span class="number">10</span>,
    <span class="id">name</span> = <span class="string">"foo"</span>,
    <span class="function">execute</span> = <span class="reserved">function</span>(<span class="id">self</span>)
        <span class="id">self</span>.<span class="function">size</span> = <span class="id">self</span>.<span class="function">size</span> + <span class="number">1</span>
        <span class="id">self</span>:<span class="function">walk</span>()
    <span class="reserved">end</span>,
    <span class="id">on_hello</span> = <span class="reserved">function</span>(<span class="id">self</span>, <span class="id">m</span>)
        <span class="id">self</span>:<span class="function">message</span> {
            <span class="id">receiver</span> = <span class="id">m</span>.<span class="id">sender</span>,         
            <span class="id">content</span> = <span class="string">"hi"</span>
        }
    <span class="reserved">end</span>
}</code></pre>



<h3>See also</h3>
<ul>
	
	<li>
		
			<a href="../files/Environment.html#createPlacement">Environment:createPlacement	</a>
		
	</li>
	
	<li>
		
			<a href="../files/Utils.html#forEachConnection">Utils:forEachConnection	</a>
		
	</li>
	
</ul>

</dd>



<h2 class="function_list">Functions</h2>
<table class="function_list">

	  <tr>
		<td class="name" nowrap><a href="#add">add</a>&nbsp;
	  <td class="summary">Add a Trajectory or State to the Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#addSocialNetwork">addSocialNetwork</a>&nbsp;
	  <td class="summary">Add a SocialNetwork to the Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#build">build</a>&nbsp;
	  <td class="summary">Check if the state machine was correctly defined, verifying whether the targets of Jump rules match the ids of the States.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#die">die</a>&nbsp;
	  <td class="summary">Kill the agent and remove it from the Society it belongs.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#enter">enter</a>&nbsp;
	  <td class="summary">Put the Agent into a Cell, using their placements.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#execute">execute</a>&nbsp;
	  <td class="summary">The entry point for executing a given Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getCell">getCell</a>&nbsp;
	  <td class="summary">Return the Cell where the Agent is located according to its placement.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getCells">getCells</a>&nbsp;
	  <td class="summary">Return the Cells pointed by the Agent according to its placement.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getId">getId</a>&nbsp;
	  <td class="summary">Return the unique identifier of the Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getLatency">getLatency</a>&nbsp;
	  <td class="summary">Return the time when the machine executed the transition to the current state.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getSocialNetwork">getSocialNetwork</a>&nbsp;
	  <td class="summary">Returns a SocialNetwork of the Agent given its name.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getStateName">getStateName</a>&nbsp;
	  <td class="summary">Returns a string with the current state name.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getTrajectoryStatus">getTrajectoryStatus</a>&nbsp;
	  <td class="summary">Return the status of the Trajectories of the Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#init">init</a>&nbsp;
	  <td class="summary">A user-defined function that is used to initialize an Agent when it enters in a given Society (e.g.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#leave">leave</a>&nbsp;
	  <td class="summary">Remove the Agent from a given Cell.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#message">message</a>&nbsp;
	  <td class="summary">Send a message to another Agent as a table.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#move">move</a>&nbsp;
	  <td class="summary">Move the Agent to a new Cell.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#notify">notify</a>&nbsp;
	  <td class="summary">Notify the Observers of the Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#on_message">on_message</a>&nbsp;
	  <td class="summary">Signature of a function that can be implemented by the modelers when the Agents can receive messages from other ones.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#reproduce">reproduce</a>&nbsp;
	  <td class="summary">Create an Agent with the same behavior in the same Cell where the original Agent is (according to its placement).</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#sample">sample</a>&nbsp;
	  <td class="summary">Returns a random Agent from a SocialNetwork of this Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#setId">setId</a>&nbsp;
	  <td class="summary">Set the unique identifier of the Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#setTrajectoryStatus">setTrajectoryStatus</a>&nbsp;
	  <td class="summary">Activate or not the trajectories defined for a given Agent.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#walk">walk</a>&nbsp;
	  <td class="summary">Execute a random walk to a neighbor Cell.</td>
    </tr>


</table>





<!--<br/>
<br/>-->




	
<dl class="function">



<dt><h2><a name="add">
</a><strong>add</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Add a <a href=../files/Trajectory.html>Trajectory</a> or <a href=../files/State.html>State</a> to the Agent.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A State or Trajectory.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">add</span>(<span class="id">state</span>)

<span class="id">agent</span>:<span class="function">add</span>(<span class="id">trajectory</span>)</code></pre>



</dd>

    



<dt><h2><a name="addSocialNetwork">
</a><strong>addSocialNetwork</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Add a <a href=../files/SocialNetwork.html>SocialNetwork</a> to the Agent.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A SocialNetwork.
    </li> 
    
  
    <li>
	  <strong>2nd</strong>: Name of the relation.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">addSocialNetwork</span>(<span class="id">network</span>)

<span class="id">agent</span>:<span class="function">addSocialNetwork</span>(<span class="id">network</span>, <span class="string">"friends"</span>)</code></pre>



</dd>

    



<dt><h2><a name="build">
</a><strong>build</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Check if the state machine was correctly defined, verifying whether the targets of <a href=../files/Jump.html>Jump</a> rules match the ids of the <a href=../files/State.html>States</a>. It is useful only when the Agent is described as a state machine.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">build</span>()</code></pre>



</dd>

    



<dt><h2><a name="die">
</a><strong>die</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Kill the agent and remove it from the <a href=../files/Society.html>Society</a> it belongs. The methods execute() and on_message() of the Agent are set to do nothing.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A boolean value indicating whether the relations of the Agent should be removed. Default is true, but it only works with simple placements, where one Agent is connected to a single <a href=../files/Cell.html>Cell</a> in each placement. If more complex relations are used in the model, then the modeler should set this parameter as false and remove the relations by himself/herself.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">die</span>()</code></pre>



</dd>

    



<dt><h2><a name="enter">
</a><strong>enter</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Put the Agent into a <a href=../files/Cell.html>Cell</a>, using their placements. If the Agent is already inside of a Cell, use <a href=../files/Agent.html#move>Agent:move()</a> instead. The agent needs to have a placement to be able to use <a href=../files/Agent.html#enter>Agent:enter()</a>, <a href=../files/Agent.html#leave>Agent:leave()</a>, or <a href=../files/Agent.html#move>Agent:move()</a> (see <a href=../files/Environment.html#createPlacement>Environment:createPlacement()</a>).</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A Cell.
    </li> 
    
  
    <li>
	  <strong>2nd</strong>: A string representing the index to be used. Default is "placement".
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">enter</span>(<span class="id">newcell</span>)
<span class="id">agent</span>:<span class="function">enter</span>(<span class="id">newcell</span>, <span class="string">"renting"</span>)</code></pre>



</dd>

    



<dt><h2><a name="execute">
</a><strong>execute</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">The entry point for executing a given Agent. When the Agent is described as a state machine, execute is automatically defined by TerraME. It activates the <a href=../files/Jump.html>Jump</a> of the current <a href=../files/State.html>State</a> while it jumps from State to State. After that, it   executes all the <a href=../files/Flow.html>Flows</a> of the current State. Usually, this function is called within an <a href=../files/Event.html>Event</a>, thus the time of the Event can be got directly from the <a href=../files/Timer.html>Timer</a>. When the Agent is not defined as a composition of States, the modeler should follow a signature to describe this function.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: An Event.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">execute</span>()

<span class="id">agent</span>:<span class="function">execute</span>(<span class="id">event</span>)

<span class="id">singleFooAgent</span> = <span class="function">Agent</span> { 
<span class="function">execute</span> = <span class="reserved">function</span>(<span class="id">self</span>) 
    <span class="id">self</span>.<span class="function">size</span> = <span class="id">self</span>.<span class="function">size</span> + <span class="number">1</span> 
    <span class="id">self</span>:<span class="function">walk</span>() 
<span class="reserved">end</span>}</code></pre>



</dd>

    



<dt><h2><a name="getCell">
</a><strong>getCell</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Return the <a href=../files/Cell.html>Cell</a> where the Agent is located according to its placement. It assumes that each Agent belongs to at most one Cell.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A string representing the index to be used. Default is "placement".
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cell</span> = <span class="id">agent</span>:<span class="function">getCell</span>()</code></pre>



</dd>

    



<dt><h2><a name="getCells">
</a><strong>getCells</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Return the <a href=../files/Cell.html>Cells</a> pointed by the Agent according to its placement.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A string representing the index to be used. Default is "placement".
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cell</span> = <span class="id">agent</span>:<span class="function">getCells</span>()[<span class="number">1</span>]</code></pre>



</dd>

    



<dt><h2><a name="getId">
</a><strong>getId</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Return the unique identifier of the Agent.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">id</span> = <span class="id">agent</span>:<span class="function">getId</span>()</code></pre>



</dd>

    



<dt><h2><a name="getLatency">
</a><strong>getLatency</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Return the time when the machine executed the transition to the current state. Before executing for the first time, the latency is zero. This function is useful only when the Agent is described as a state machine.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">latency</span> = <span class="id">agent</span>:<span class="function">getLatency</span>()</code></pre>



</dd>

    



<dt><h2><a name="getSocialNetwork">
</a><strong>getSocialNetwork</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Returns a <a href=../files/SocialNetwork.html>SocialNetwork</a> of the Agent given its name.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: Name of the relation.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">net</span> = <span class="id">agent</span>:<span class="function">getSocialNetwork</span>(<span class="string">"friends"</span>)</code></pre>



<h3>See also</h3>
<ul>
	
	<li>
		
			<a href="../files/Society.html#createSocialNetwork">Society:createSocialNetwork	</a>
		
	</li>
	
</ul>

</dd>

    



<dt><h2><a name="getStateName">
</a><strong>getStateName</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Returns a string with the current state name. This function is useful only when the Agent is described as a state machine.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">name</span> = <span class="id">agent</span>:<span class="function">getStateName</span>()</code></pre>



</dd>

    



<dt><h2><a name="getTrajectoryStatus">
</a><strong>getTrajectoryStatus</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Return the status of the <a href=../files/Trajectory.html>Trajectories</a> of the Agent. This function is useful only when the Agent is described as a state machine.</span>












<h3>See also</h3>
<ul>
	
	<li>
		
			<a href="../files/Agent.html#setTrajectoryStatus">Agent:setTrajectoryStatus	</a>
		
	</li>
	
</ul>

</dd>

    



<dt><h2><a name="init">
</a><strong>init</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">A user-defined function that is used to initialize an Agent when it enters in a given <a href=../files/Society.html>Society</a> (e.g. by calling <a href=../files/Society.html#add>Society:add()</a>).</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span> = <span class="function">Agent</span>{
    <span class="function">init</span> = <span class="reserved">function</span>(<span class="id">self</span>)
        <span class="id">self</span>.<span class="id">age</span> = <span class="id">math</span>.<span class="id">random</span>(<span class="number">1</span>, <span class="number">10</span>) <span class="comment">-- initial age chosen randomly</span>
        <span class="id">self</span>.<span class="id">wealth</span> = <span class="id">math</span>.<span class="id">random</span>(<span class="number">50</span>, <span class="number">100</span>) <span class="comment">-- initial wealth chosen randomly</span>
    <span class="reserved">end</span>,
    ...
}

<span class="id">agent</span>:<span class="function">init</span>()</code></pre>



</dd>

    



<dt><h2><a name="leave">
</a><strong>leave</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Remove the Agent from a given <a href=../files/Cell.html>Cell</a>. The agent needs to have a placement to be able to use <a href=../files/Agent.html#enter>Agent:enter()</a>, <a href=../files/Agent.html#leave>Agent:leave()</a>, or <a href=../files/Agent.html#move>Agent:move()</a> (see <a href=../files/Environment.html#createPlacement>Environment:createPlacement()</a>).</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A Cell. Default is the first (or the only) Cell of the placement.
    </li> 
    
  
    <li>
	  <strong>2nd</strong>: A string representing the index to be used. Default is "placement".
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">leave</span>()

<span class="id">agent</span>:<span class="function">leave</span>(<span class="id">cell</span>)

<span class="id">agent</span>:<span class="function">leave</span>(<span class="id">cell</span>, <span class="string">"renting"</span>)</code></pre>



</dd>

    



<dt><h2><a name="message">
</a><strong>message</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Send a message to another Agent as a table. The receiver will get a message through its <a href=../files/Agent.html#on_message>Agent:on_message()</a>. Messages can arrive exactly after they are sent (synchronous) or have some delay (asynchronous). In the latter case, it is necessary to call function <a href=../files/Society.html#synchronize>Society:synchronize()</a> from the <a href=../files/Society.html>Society</a> they belong to activate the messages.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>delay</strong>: An integer indicating the number of times synchronize needs to be called before activating this message. Default is zero (no delay, no synchronization required). Whenever a delayed message is received, it comes with the element delay = true.
    </li> 
    
  
    <li>
	  <strong>receiver</strong>: The Agent that will get the message.
    </li> 
    
  
    <li>
	  <strong>subject</strong>: A string describing the function that will be called in the receiver. Given a string x, the receiver will get the message in a function called on_x. Default is "message". The function to receive the message must be implemented by the modeler. See <a href=../files/Agent.html#on_message>Agent:on_message()</a> for more details.
    </li> 
    
  
    <li>
	  <strong>...</strong>: Other arguments are allowed to this function, as the message is a table. The receiver will get all the attributes sent plus a sender value.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">message</span> {
    <span class="id">receiver</span> = <span class="id">agent2</span>,
    <span class="id">delay</span> = <span class="number">2</span>,
    <span class="id">content</span> = <span class="string">"money"</span>,
    <span class="id">quantity</span> = <span class="number">20</span>
}</code></pre>



</dd>

    



<dt><h2><a name="move">
</a><strong>move</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Move the Agent to a new <a href=../files/Cell.html>Cell</a>. The agent needs to have a placement to be able to use <a href=../files/Agent.html#enter>Agent:enter()</a>, <a href=../files/Agent.html#leave>Agent:leave()</a>, or <a href=../files/Agent.html#move>Agent:move()</a> (see <a href=../files/Environment.html#createPlacement>Environment:createPlacement()</a>).</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: The new Cell.
    </li> 
    
  
    <li>
	  <strong>2nd</strong>: A string representing the index to be used. Default is "placement".
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">move</span>(<span class="id">newcell</span>)
<span class="id">agent</span>:<span class="function">move</span>(<span class="id">newcell</span>, <span class="string">"renting"</span>)</code></pre>



</dd>

    



<dt><h2><a name="notify">
</a><strong>notify</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Notify the <a href=../files/Observer.html>Observers</a> of the Agent.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: An integer number representing the notification time.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">notify</span>()</code></pre>



</dd>

    



<dt><h2><a name="on_message">
</a><strong>on_message</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Signature of a function that can be implemented by the modelers when the Agents can receive messages from other ones. This function receives a message as argument, with the same content of the message sent plus the attribute sender, representing the Agent that has sent the message. In the case of non-delayed messages, the returning value of this function (executed by the receiver) is also returned as the result of message (executed by the sender). Note that, although in the description below on_message has only one argument, the signature has two arguments, the first one being the agent itself. This function is usually called by TerraME, as result of calls of <a href=../files/Agent.html#message>Agent:message()</a> by the modeler. Other functions on_ can be defined by the modeler, and will be called by TerraME according to the subject of the message.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A table with the received message. It has an attribute called sender with the Agent that sent the message.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span> = <span class="function">Agent</span>{
    <span class="function">on_message</span> = <span class="reserved">function</span>(<span class="id">self</span>, <span class="function">message</span>)
        <span class="id">self</span>.<span class="id">money</span> = <span class="id">self</span>.<span class="id">money</span> + <span class="function">message</span>.<span class="id">quantity</span>
        <span class="id">self</span>:<span class="function">message</span>{<span class="id">receiver</span> = <span class="function">message</span>.<span class="id">sender</span>, <span class="id">content</span> = <span class="string">"thanks"</span>}
    <span class="reserved">end</span>,
    <span class="comment">--...</span>
    <span class="id">on_thanks</span> = <span class="reserved">function</span>(<span class="id">self</span>, <span class="function">message</span>)
        <span class="id">self</span>:<span class="function">message</span>{<span class="id">receiver</span> = <span class="function">message</span>.<span class="id">sender</span>, <span class="id">content</span> = <span class="string">"yourewelcome"</span>}
    <span class="reserved">end</span>
    <span class="comment">--...</span>
}</code></pre>



<h3>See also</h3>
<ul>
	
	<li>
		
			<a href="../files/Agent.html#message">Agent:message	</a>
		
	</li>
	
	<li>
		
			<a href="../files/Society.html#synchronize">Society:synchronize	</a>
		
	</li>
	
</ul>

</dd>

    



<dt><h2><a name="reproduce">
</a><strong>reproduce</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Create an Agent with the same behavior in the same <a href=../files/Cell.html>Cell</a> where the original Agent is (according to its placement). The new Agent is pushed into the same <a href=../files/Society.html>Society</a> the original Agent belongs and placements created using the Society are instantiated with size zero if the only argument of reproduce does not contain such placements. This function returns the new Agent.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: An optional table with attributes of the new Agent.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">child</span> = <span class="id">agent</span>:<span class="function">reproduce</span>()

<span class="id">child</span> = <span class="id">agent</span>:<span class="function">reproduce</span>{<span class="id">age</span>=<span class="number">0</span>}

<span class="id">child</span> = <span class="id">agent</span>:<span class="function">reproduce</span>{
    <span class="id">age</span> = <span class="number">0</span>,
    <span class="id">house</span> = <span class="id">agent</span>.<span class="id">house</span>:<span class="function">clone</span>() <span class="comment">-- house is a placement</span>
}</code></pre>



</dd>

    



<dt><h2><a name="sample">
</a><strong>sample</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Returns a random Agent from a <a href=../files/SocialNetwork.html>SocialNetwork</a> of this Agent.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: Name of the relation.
    </li> 
    
  
    <li>
	  <strong>2nd</strong>: A random object. As default, TerraME uses its internal random number generator.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ag_friend</span> = <span class="id">agent</span>:<span class="function">sample</span>(<span class="string">"friends"</span>)</code></pre>



</dd>

    



<dt><h2><a name="setId">
</a><strong>setId</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Set the unique identifier of the Agent.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A string.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">setId</span>(<span class="string">"newid"</span>)</code></pre>



</dd>

    



<dt><h2><a name="setTrajectoryStatus">
</a><strong>setTrajectoryStatus</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Activate or not the trajectories defined for a given Agent.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: Use or not the trajectories. As default, trajectories are turned off. If status is true, when executed, the Agent that contains <a href=../files/State.html>States</a> will automatically traverse all trajectories defined within it. This function is useful only when the Agent is described as a state machine.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">setTrajectoryStatus</span>(<span class="reserved">true</span>)</code></pre>



</dd>

    



<dt><h2><a name="walk">
</a><strong>walk</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Execute a random walk to a neighbor <a href=../files/Cell.html>Cell</a>.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A string representing the index to be used. Default is "placement".
    </li> 
    
  
    <li>
	  <strong>2nd</strong>: A string representing the index of the <a href=../files/Neighborhood.html>Neighborhood</a> to be used. Default is "placement".
    </li> 
    
  
    <li>
	  <strong>3rd</strong>: A <a href=../files/Random.html>Random</a> object. Default is the internal TerraME random number generator.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">agent</span>:<span class="function">walk</span>()

<span class="id">agent</span>:<span class="function">walk</span>(<span class="string">"moore"</span>)</code></pre>



</dd>

    

</dl>





</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
