<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"><img src='../img/terrame.png'/><br/></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>TerraME</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->



<!-- Types list -->

<h1>Types</h1>
<ul>

		<li>
			<a href="../files/Agent.html">Agent</a>
		</li>
		
	

		<li>
			<a href="../files/Automaton.html">Automaton</a>
		</li>
		
	

		<li>
			<a href="../files/Cell.html">Cell</a>
		</li>
		
	

		<li><strong>CellularSpace</strong></li>
		
	

		<li>
			<a href="../files/Coord.html">Coord</a>
		</li>
		
	

		<li>
			<a href="../files/Environment.html">Environment</a>
		</li>
		
	

		<li>
			<a href="../files/Event.html">Event</a>
		</li>
		
	

		<li>
			<a href="../files/Flow.html">Flow</a>
		</li>
		
	

		<li>
			<a href="../files/Group.html">Group</a>
		</li>
		
	

		<li>
			<a href="../files/Jump.html">Jump</a>
		</li>
		
	

		<li>
			<a href="../files/Legend.html">Legend</a>
		</li>
		
	

		<li>
			<a href="../files/Neighborhood.html">Neighborhood</a>
		</li>
		
	

		<li>
			<a href="../files/Observer.html">Observer</a>
		</li>
		
	

		<li>
			<a href="../files/Random.html">Random</a>
		</li>
		
	

		<li>
			<a href="../files/SocialNetwork.html">SocialNetwork</a>
		</li>
		
	

		<li>
			<a href="../files/Society.html">Society</a>
		</li>
		
	

		<li>
			<a href="../files/State.html">State</a>
		</li>
		
	

		<li>
			<a href="../files/Timer.html">Timer</a>
		</li>
		
	

		<li>
			<a href="../files/Trajectory.html">Trajectory</a>
		</li>
		
	


</ul>


<!-- Files list -->

<h1>Files</h1>
<ul>




















		<li>
			<a href="../files/Utils.html">Utils</a>
		</li>
		
	

</ul>


</div> <!-- id="navigation" -->

<div id="content">

<h1><code>CellularSpace



</code></h1>


<span class="description"></span>









<span class="description">A multivalued set of <a href=../files/Cell.html>Cells</a>. It can be retrieved from databases, files, or created directly within TerraME. See the table below with the description and the arguments of each data source. Every Cell of a CellularSpace has an (x, y) location, starting from (0, 0). This Cell represents the upper right location.  Note that CellularSpaces loaded from databases might not have this cell, according to the original geometry that was used to create the CellularSpace. Calling <a href=../files/Utils.html#forEachCell>forEachCell()</a> traverses CellularSpaces. </span>


	 
			<table class="param_tab">
			
				<tr>
					
							<th>
							Data source
							</th>
						
							<th>
							Description
							</th>
						
							<th>
							Compulsory parameters
							</th>
						
							<th>
							Optional parameters
							</th>
						
				<tr>
					
							<td>
							Access
							</td>
						
							<td>
							Load from a Microsoft Access database (.mdb)  file.
							</td>
						
							<td>
							database, theme
							</td>
						
							<td>
							layer, select, where
							</td>
						
				<tr>
					
							<td>
							CSV
							</td>
						
							<td>
							Load  from a Comma-separated value (.csv) file. Each column will become an attribute. It requires at least two attributes: x and y.
							</td>
						
							<td>
							database
							</td>
						
							<td>
							sep
							</td>
						
				<tr>
					
							<td>
							MySQL
							</td>
						
							<td>
							Load from a TerraLib database stored in a MySQL database.
							</td>
						
							<td>
							database, theme
							</td>
						
							<td>
							host, layer, password, port, select, user, where
							</td>
						
				<tr>
					
							<td>
							Shapefile
							</td>
						
							<td>
							Load data from a shapefile. It requires three files with the same name and different extensions: .shp, .shx, and .dbf. The argument database must contain the file with extension .shp.
							</td>
						
							<td>
							database
							</td>
						
							<td>
							
							</td>
						
				<tr>
					
							<td>
							Volatile
							</td>
						
							<td>
							Create a rectangular cellular space from scratch. Cells will be instantiated with only two attributes: x and y.
							</td>
						
							<td>
							dxim
							</td>
						
							<td>
							ydim
							</td>
						
				</tr>    
			</table>
		


<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>autoload</strong>: A boolean value indicating whether the CellularSpace will be loaded automatically (true, default value) or the user by herself will call load (false).
    </li> 
    
  
    <li>
	  <strong>database</strong>: Name of the database. It can also describe the location of a shapefile. In thiscase, the other arguments will be ignored.
    </li> 
    
  
    <li>
	  <strong>dbType</strong>: Name of the data source. It tries to infer the data source according to the extension of the parameter database. When it does not have an extension or when the extension is not recognized it will read data from a MySQL database. The default value depends on the database name. If it has a ".mdb" extension, the default value is "ado". If it has a "shp" extension it will load a shapefile. Otherwise it is "mysql"). TerraME always converts this string to lower case.
    </li> 
    
  
    <li>
	  <strong>host</strong>: Host where the database is stored (default is "localhost").
    </li> 
    
  
    <li>
	  <strong>layer</strong>: A boolean value indicating whether the CellularSpace will be loaded automatically (true, default value) or the user by herself will call load (false).
    </li> 
    
  
    <li>
	  <strong>password</strong>: The password (default is "").
    </li> 
    
  
    <li>
	  <strong>port</strong>: Port number of the connection.
    </li> 
    
  
    <li>
	  <strong>select</strong>: A table containing the names of the attributes to be retrieved (default is all attributes). When retrieving a single attribute, you can use select = "attribute" instead of select = {"attribute"}. It is possible to rename the attribute name using "as", for example, select= {"lc as landcover"} reads lc from the database but replaces the name to landcover in the Cells. Attributes that contain "." in their names (such as results of table joins) will be read with "_" replacing "." in order to follow Lua syntax to manipulate data.
    </li> 
    
  
    <li>
	  <strong>sep</strong>: A string with the file separator for reading a CSV (default is ",").
    </li> 
    
  
    <li>
	  <strong>theme</strong>: Name of the theme to be loaded.
    </li> 
    
  
    <li>
	  <strong>user</strong>: Username (default is "").
    </li> 
    
  
    <li>
	  <strong>where</strong>: An SQL restriction on the properties of the Cells (default is "", applying no restriction. Only the Cells that reflect the established criteria will be loaded). For example, the operator to compare value is "=" and not "==". This parameter can only be used when reading data from a database.
    </li> 
    
  
    <li>
	  <strong>xdim</strong>: Number of columns, in the case of creating a CellularSpace without needing to load from a database.
    </li> 
    
  
    <li>
	  <strong>ydim</strong>: Number of lines, in the case of creating a CellularSpace without needing to load from a database. Default is equal to xdim. 
    </li> 
    
  
  </span></ul>



<!-- Outputs of the function -->
<p>Attributes of CellularSpace that can be used as <b>read-only</b> by the modeler:</p>
<ul>
<span class="output">
	
	<li>
	  <strong>cells</strong>: A vector of Cells pointed by the CellularSpace.
	</li>
	
	<li>
	  <strong>parent</strong>: The <a href=../files/Environment.html>Environment</a> it belongs. 
	</li>
	
</span>
</ul>





<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span> = <span class="function">CellularSpace</span> {
    <span class="id">database</span> = <span class="string">"amazonia"</span>,
    <span class="id">theme</span> = <span class="string">"cells"</span>,
    <span class="id">user</span> = <span class="string">"root"</span>
}

<span class="id">cs2</span> = <span class="function">CellularSpace</span> {
    <span class="id">database</span> = <span class="string">"d:\\db.mdb"</span>,
    <span class="id">layer</span> = <span class="string">"cells_10"</span>,
    <span class="id">theme</span> = <span class="string">"cells_10"</span>,
    <span class="id">select</span> = <span class="string">"height3 as h"</span>,
    <span class="id">where</span> = <span class="string">"height3 > 2"</span>
}

<span class="id">cs3</span> = <span class="function">CellularSpace</span> {
    <span class="id">database</span> = <span class="string">"d:\\file.shp"</span>,
}

<span class="id">cs4</span> = <span class="function">CellularSpace</span> {
    <span class="id">xdim</span> = <span class="number">20</span>,
    <span class="id">ydim</span> = <span class="number">20</span>
}</code></pre>



</dd>



<h2 class="function_list">Functions</h2>
<table class="function_list">

	  <tr>
		<td class="name" nowrap><a href="#add">add</a>&nbsp;
	  <td class="summary">Add a new Cell to the CellularSpace.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#createNeighborhood">createNeighborhood</a>&nbsp;
	  <td class="summary">Create a Neighborhood for each Cell of the CellularSpace.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getCell">getCell</a>&nbsp;
	  <td class="summary">Retrieve a Cell from the CellularSpace, given its index.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getCells">getCells</a>&nbsp;
	  <td class="summary">Retrieve a vector containing all Cells of the CellularSpace.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getXDim">getXDim</a>&nbsp;
	  <td class="summary">Retrieve the 'xDim' attribute of the cellular space </td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#getYDim">getYDim</a>&nbsp;
	  <td class="summary">Retrieve the 'yDim' attribute of the cellular space </td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#load">load</a>&nbsp;
	  <td class="summary">Load the CellularSpace from the database.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#loadNeighborhood">loadNeighborhood</a>&nbsp;
	  <td class="summary">Load a Neighborhood stored in an external source.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#notify">notify</a>&nbsp;
	  <td class="summary">Notify every Observer connected to the CellularSpace.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#sample">sample</a>&nbsp;
	  <td class="summary">Retrieve a random Cell from the CellularSpace.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#save">save</a>&nbsp;
	  <td class="summary">Save the attributes of a CellularSpace into the same database it was retrieved.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#saveShape">saveShape</a>&nbsp;
	  <td class="summary">Save the attributes of a shapefile into the same file it was retrieved.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#split">split</a>&nbsp;
	  <td class="summary">Split the CellularSpace into a table of Trajectories according to a classification strategy.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#synchronize">synchronize</a>&nbsp;
	  <td class="summary">Synchronize the CellularSpace, calling the function synchronize() for each of its Cells.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="##">#</a>&nbsp;
	  <td class="summary">Retrieve the number of Cells of the CellularSpace.</td>
    </tr>


</table>





<!--<br/>
<br/>-->




	
<dl class="function">



<dt><h2><a name="add">
</a><strong>add</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Add a new <a href=../files/Cell.html>Cell</a> to the CellularSpace. It will be the last Cell of the CellularSpace.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A Cell.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">add</span>(<span class="id">cell</span>)</code></pre>



</dd>

    



<dt><h2><a name="createNeighborhood">
</a><strong>createNeighborhood</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Create a <a href=../files/Neighborhood.html>Neighborhood</a> for each <a href=../files/Cell.html>Cell</a> of the CellularSpace. It gets a table as argument, with the following attributes:</span>


	


<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>filter</strong>: A function(Cell, Cell)->bool, where the first argument is the Cell itself and the other represent a possible neighbor. It returns true when the neighbor will be included in the relation. In the case of two CellularSpaces, this function is called twice for e ach pair of Cells, first filter(c1, c2) and then filter(c2, c1), where c1 belongs to cs1 and c2 belongs to cs2. The default is a function that returns true.
    </li> 
    
  
    <li>
	  <strong>m</strong>: Number of columns. If m is even then it will be increased by one to keep the Cell in the center of the Neighborhood.
    </li> 
    
  
    <li>
	  <strong>n</strong>: Number of rows. If n is even then it will be increased by one to keep the Cell in the center of the Neighborhood.
    </li> 
    
  
    <li>
	  <strong>name</strong>: A string with the name of the Neighborhood to be created. The default is "1".
    </li> 
    
  
    <li>
	  <strong>self</strong>: Add the Cell as neighbor of itself? Default is false. Note that the functions that do not require this argument always depend on a filter function, which will define whether the Cell can be neighbor of itself.
    </li> 
    
  
    <li>
	  <strong>strategy</strong>: A string with the strategy to be used for creating the Neighborhood. See the table below.
    </li> 
    
      </span>
      <!-- Strategy of the parameter -->
       
      <table class="param_tab">
	  
      
        <tr>
        
          
            <th>
            Strategy
            </th>
          
          
            <th>
            Description
            </th>
          
          
            <th>
            Compulsory Parameters
            </th>
          
          
            <th>
            Optional Parameters
            </th>
          
        
        <tr>
        
          
            <td>
            "3x3"
            </td>
          
          
            <td>
            A 3x3 (Couclelis) Neighborhood.
            </td>
          
          
            <td>
            
            </td>
          
          
            <td>
            filter, name, weight
            </td>
          
        
        <tr>
        
          
            <td>
            "coord"
            </td>
          
          
            <td>
            A bidirected relation between two CellularSpaces connecting Cells with the same (x, y) coordinates.
            </td>
          
          
            <td>
            target
            </td>
          
          
            <td>
            name
            </td>
          
        
        <tr>
        
          
            <td>
            "function"
            </td>
          
          
            <td>
            A Neighborhood based on a function where any other Cell can be a neighbor.
            </td>
          
          
            <td>
            filter
            </td>
          
          
            <td>
            name, weight
            </td>
          
        
        <tr>
        
          
            <td>
            "moore"(default)
            </td>
          
          
            <td>
            A Moore (queen) Neighborhood, connecting each Cell to its (at most) eight touching Cells.
            </td>
          
          
            <td>
            
            </td>
          
          
            <td>
            name, self, wrap
            </td>
          
        
        <tr>
        
          
            <td>
            "mxn"
            </td>
          
          
            <td>
            A m (columns) by n (rows) Neighborhood within the CellularSpace or between two CellularSpaces if target is used.
            </td>
          
          
            <td>
            m
            </td>
          
          
            <td>
            filter, n, name, target, weight
            </td>
          
        
        <tr>
        
          
            <td>
            "vonneumann"
            </td>
          
          
            <td>
            A von Neumann (rook) Neighborhood, connecting each Cell to its (at most) four ortogonally surrounding Cells.
            </td>
          
          
            <td>
            
            </td>
          
          
            <td>
            name, self, wrap
            </td>
          
        
        </tr>    
      </table>
      <span class="param">
    
  
    <li>
	  <strong>target</strong>: Another CellularSpace whose Cells will be used to create neighborhoods.
    </li> 
    
  
    <li>
	  <strong>weight</strong>: A function(Cell, Cell)->number, where the first argument is the Cell itself and the other represent its neighbor. It calculates the weight of the relation. The weight will be computed only if filter returns true.
    </li> 
    
  
    <li>
	  <strong>wrap</strong>: Whether Cells in the borders will be connected to the Cells in the opposite border. Default is false.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">createNeighborhood</span>() <span class="comment">-- moore</span>

<span class="id">cs</span>:<span class="function">createNeighborhood</span> {
    <span class="id">name</span> = <span class="string">"moore"</span>
}

<span class="id">cs</span>:<span class="function">createNeighborhood</span> {
    <span class="id">strategy</span> = <span class="string">"vonneumann"</span>,
    <span class="id">self</span> = <span class="reserved">true</span>
}

<span class="id">cs</span>:<span class="function">createNeighborhood</span> {
    <span class="id">strategy</span> = <span class="string">"mxn"</span>,
    <span class="id">m</span> = <span class="number">4</span>,
    <span class="id">n</span> = <span class="number">4</span>
}

<span class="comment">-- c2 overlaps cs1</span>
<span class="id">cs1</span>:<span class="function">createNeighborhood</span> {
    <span class="id">strategy</span> = <span class="string">"mxn"</span>,
    <span class="id">target</span> = <span class="id">cs2</span>, <span class="comment">-- other cs</span>
    <span class="id">m</span> = <span class="number">3</span>,
    <span class="id">n</span> = <span class="number">2</span>,
    <span class="id">name</span> = <span class="string">"spatialCoupling"</span>
}</code></pre>



</dd>

    



<dt><h2><a name="getCell">
</a><strong>getCell</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Retrieve a <a href=../files/Cell.html>Cell</a> from the CellularSpace, given its index.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A X coord.
    </li> 
    
  
    <li>
	  <strong>2nd</strong>: A Y coord.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">getCell</span>(<span class="id">x</span>,<span class="id">y</span>)</code></pre>



</dd>

    



<dt><h2><a name="getCells">
</a><strong>getCells</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Retrieve a vector containing all <a href=../files/Cell.html>Cells</a> of the CellularSpace.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">cells</span> = <span class="id">cs</span>:<span class="function">getCells</span>()
<span class="id">cell</span> = <span class="id">cs</span>:<span class="function">getCells</span>()[<span class="number">1</span>]</code></pre>



</dd>

    



<dt><h2><a name="getXDim">
</a><strong>getXDim</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Retrieve the 'xDim' attribute of the cellular space</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">x</span> = <span class="id">cs</span>:<span class="function">getXDim</span>()</code></pre>



</dd>

    



<dt><h2><a name="getYDim">
</a><strong>getYDim</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Retrieve the 'yDim' attribute of the cellular space</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">y</span> = <span class="id">cs</span>:<span class="function">getYDim</span>()</code></pre>



</dd>

    



<dt><h2><a name="load">
</a><strong>load</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Load the CellularSpace from the database. TerraME automatically executes this function when the CellularSpace is created, but one can execute this to load the attributes again, erasing each other attribute and relations created by the modeler. This function can not be used with volatile CellularSpace.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">load</span>()</code></pre>



</dd>

    



<dt><h2><a name="loadNeighborhood">
</a><strong>loadNeighborhood</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Load a <a href=../files/Neighborhood.html>Neighborhood</a> stored in an external source. Each <a href=../files/Cell.html>Cell</a> receives its own set of neighbors.</span>


	


<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>name</strong>: A string with the location of the Neighborhood to be loaded. See below.
    </li> 
    
      </span>
      <!-- Strategy of the parameter -->
       
      <table class="param_tab">
	  
      
        <tr>
        
          
            <th>
            Source
            </th>
          
          
            <th>
            Description
            </th>
          
        
        <tr>
        
          
            <td>
            "*.gal"
            </td>
          
          
            <td>
            Load a Neighborhood from contiguity relationships described as a GAL file.
            </td>
          
        
        <tr>
        
          
            <td>
            "*.gwt"
            </td>
          
          
            <td>
            Load a Neighborhood from a GWT (generalized weights) file.
            </td>
          
        
        <tr>
        
          
            <td>
            "*.gpm"
            </td>
          
          
            <td>
            Load a Neighborhood from a GPM (generalized proximity matrix) file.
            </td>
          
        
        <tr>
        
          
            <td>
            Any other
            </td>
          
          
            <td>
            Load a Neighborhood from table stored in the same database of the CellularSpace.
            </td>
          
        
        </tr>    
      </table>
      <span class="param">
    
  
    <li>
	  <strong>source</strong>: A string with the name of the Neighborhood to be loaded within TerraME. Default is "1".
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">loadNeighborhood</span>{
    <span class="id">source</span> = <span class="string">"n.gpm"</span>
}

<span class="id">cs</span>:<span class="function">loadNeighborhood</span>{
    <span class="id">source</span> = <span class="string">"mtab"</span>,
    <span class="id">name</span> = <span class="string">"mtab"</span>
}</code></pre>



</dd>

    



<dt><h2><a name="notify">
</a><strong>notify</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Notify every <a href=../files/Observer.html>Observer</a> connected to the CellularSpace.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: The time to be used by the Observer. Most of the strategies available ignore this value.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">notify</span>()
<span class="id">cs</span>:<span class="function">notify</span>(<span class="id">event</span>:<span class="function">getTime</span>())</code></pre>



</dd>

    



<dt><h2><a name="sample">
</a><strong>sample</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Retrieve a random <a href=../files/Cell.html>Cell</a> from the CellularSpace.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: a <a href=../files/Random.html>Random</a> object (optional).
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cell</span> = <span class="id">cs</span>:<span class="function">sample</span>()</code></pre>



</dd>

    



<dt><h2><a name="save">
</a><strong>save</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Save the attributes of a CellularSpace into the same database it was retrieved.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A temporal value to be stored in the database, which can be different from the simulation time.
    </li> 
    
  
    <li>
	  <strong>2nd</strong>: Name of the table to store the attributes of the <a href=../files/Cell.html>Cells</a>.
    </li> 
    
  
    <li>
	  <strong>3rd</strong>: A vector with the names of the attributes to be saved (default is all of them). When saving a single attribute, you can use attrNames = "attribute" instead of attrNames = {"attribute"}.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">save</span>(<span class="number">20</span>,<span class="string">"table"</span>)

<span class="id">cs</span>:<span class="function">save</span>(<span class="number">100</span>, <span class="string">"ntab"</span>, <span class="string">"attr"</span>)</code></pre>



</dd>

    



<dt><h2><a name="saveShape">
</a><strong>saveShape</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Save the attributes of a shapefile into the same file it was retrieved.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">saveShape</span>()</code></pre>



</dd>

    



<dt><h2><a name="split">
</a><strong>split</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Split the CellularSpace into a table of <a href=../files/Trajectory.html>Trajectories</a> according to a classification strategy. The generated Trajectories have empty intersection and union equals to the whole CellularSpace (unless function below returns nil for some <a href=../files/Cell.html>Cell</a>).</span>


	


<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A string or a function, as follows:
    </li> 
    
      </span>
      <!-- Strategy of the parameter -->
       
      <table class="param_tab">
	  
      
        <tr>
        
          
            <th>
            Type of argument
            </th>
          
          
            <th>
            Description
            </th>
          
        
        <tr>
        
          
            <td>
            string
            </td>
          
          
            <td>
            The argument must represent the name of one attribute of the Cells of the CellularSpace. Split then creates one Trajectory for each possible value of the attribute using the value as index and fills them with the Cells that have the respective attribute value.
            </td>
          
        
        <tr>
        
          
            <td>
            function
            </td>
          
          
            <td>
            The argument is a function that receives a Cell as argument and returns a value with the index that contains the Cell. Trajectories are then indexed according to the returning value.
            </td>
          
        
        </tr>    
      </table>
      <span class="param">
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">ts</span> = <span class="id">cs</span>:<span class="function">split</span>(<span class="string">"cover"</span>)
<span class="id">print</span>(#<span class="id">ts</span>.<span class="id">forest</span>)
<span class="id">print</span>(#<span class="id">ts</span>.<span class="id">pasture</span>)

<span class="id">ts2</span> = <span class="id">cs</span>:<span class="function">split</span>(<span class="reserved">function</span>(<span class="id">cell</span>)
    <span class="reserved">if</span> <span class="id">cell</span>.<span class="id">forest</span> > <span class="number">0</span><span class="number">.5</span> <span class="reserved">then</span> 
        <span class="reserved">return</span> <span class="string">"gt"</span> 
    <span class="reserved">else</span> 
        <span class="reserved">return</span> <span class="string">"lt"</span> 
    <span class="reserved">end</span>
<span class="reserved">end</span>)
<span class="id">print</span>(#<span class="id">ts</span>.<span class="id">gt</span>)</code></pre>



</dd>

    



<dt><h2><a name="synchronize">
</a><strong>synchronize</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Synchronize the CellularSpace, calling the function synchronize() for each of its <a href=../files/Cell.html>Cells</a>.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A string or a vector of strings with the attributes to be synchronized. If empty, TerraME synchronizes every attribute read from the database but the (x, y) coordinates and the attributes created along the simulation.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">cs</span>:<span class="function">synchronize</span>()
<span class="id">cs</span>:<span class="function">synchronize</span>(<span class="string">"landuse"</span>)
<span class="id">cs</span>:<span class="function">synchronize</span>{<span class="string">"water"</span>,<span class="string">"use"</span>}</code></pre>



</dd>

    



<dt><h2><a name="#">
</a><strong>#</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Retrieve the number of <a href=../files/Cell.html>Cells</a> of the CellularSpace.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">print</span>(#<span class="id">cs</span>)</code></pre>



</dd>

    

</dl>





</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
