<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"><img src='../img/terrame.png'/><br/></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>TerraME</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->



<!-- Types list -->

<h1>Types</h1>
<ul>

		<li>
			<a href="../files/Agent.html">Agent</a>
		</li>
		
	

		<li>
			<a href="../files/Automaton.html">Automaton</a>
		</li>
		
	

		<li>
			<a href="../files/Cell.html">Cell</a>
		</li>
		
	

		<li>
			<a href="../files/CellularSpace.html">CellularSpace</a>
		</li>
		
	

		<li>
			<a href="../files/Coord.html">Coord</a>
		</li>
		
	

		<li><strong>Environment</strong></li>
		
	

		<li>
			<a href="../files/Event.html">Event</a>
		</li>
		
	

		<li>
			<a href="../files/Flow.html">Flow</a>
		</li>
		
	

		<li>
			<a href="../files/Group.html">Group</a>
		</li>
		
	

		<li>
			<a href="../files/Jump.html">Jump</a>
		</li>
		
	

		<li>
			<a href="../files/Legend.html">Legend</a>
		</li>
		
	

		<li>
			<a href="../files/Neighborhood.html">Neighborhood</a>
		</li>
		
	

		<li>
			<a href="../files/Observer.html">Observer</a>
		</li>
		
	

		<li>
			<a href="../files/Random.html">Random</a>
		</li>
		
	

		<li>
			<a href="../files/SocialNetwork.html">SocialNetwork</a>
		</li>
		
	

		<li>
			<a href="../files/Society.html">Society</a>
		</li>
		
	

		<li>
			<a href="../files/State.html">State</a>
		</li>
		
	

		<li>
			<a href="../files/Timer.html">Timer</a>
		</li>
		
	

		<li>
			<a href="../files/Trajectory.html">Trajectory</a>
		</li>
		
	


</ul>


<!-- Files list -->

<h1>Files</h1>
<ul>




















		<li>
			<a href="../files/Utils.html">Utils</a>
		</li>
		
	

</ul>


</div> <!-- id="navigation" -->

<div id="content">

<h1><code>Environment



</code></h1>


<span class="description"></span>









<span class="description">A container that encapsulates space, time, behavior, and other environments. Objects can be added directly when the Environment is declared or after it has been instantiated. It can control the simulation engine, synchronizing all the <a href=../files/Timer.html>Timers</a> within it. Calling <a href=../files/Utils.html#forEachElement>forEachElement()</a> traverses each object of an Environment.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A table containing all the elements of the Environment to be created.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">environment</span> = <span class="function">Environment</span> {
    <span class="id">cs1</span> = <span class="function">CellularSpace</span>{...},
    <span class="id">ag1</span> = <span class="function">Agent</span>{...},
    <span class="id">aut2</span> = <span class="function">Automaton</span>{...},
    <span class="id">t1</span> = <span class="function">Timer</span>{...},
    <span class="id">env1</span> = <span class="function">Environment</span>{...}
}</code></pre>



</dd>



<h2 class="function_list">Functions</h2>
<table class="function_list">

	  <tr>
		<td class="name" nowrap><a href="#add">add</a>&nbsp;
	  <td class="summary">Add an element to the Environment.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#createPlacement">createPlacement</a>&nbsp;
	  <td class="summary">Create relations between behavioural entities (Agents) and spatial entities (Cells).</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#execute">execute</a>&nbsp;
	  <td class="summary">Execute the Environment until a given time.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#loadNeighborhood">loadNeighborhood</a>&nbsp;
	  <td class="summary">Load a Neighborhood between two different CellularSpaces.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#notify">notify</a>&nbsp;
	  <td class="summary">Notify every Observer connected to the Environment.</td>
    </tr>


</table>





<!--<br/>
<br/>-->




	
<dl class="function">



<dt><h2><a name="add">
</a><strong>add</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Add an element to the Environment.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: An <a href=../files/Agent.html>Agent</a>, <a href=../files/Automaton.html>Automaton</a>, <a href=../files/CellularSpace.html>CellularSpace</a>, <a href=../files/Timer.html>Timer</a> or Environment.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">environment</span>:<span class="function">add</span>(<span class="id">agent</span>)
<span class="id">environment</span>:<span class="function">add</span>(<span class="id">cellularSpace</span>)</code></pre>



</dd>

    



<dt><h2><a name="createPlacement">
</a><strong>createPlacement</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Create relations between behavioural entities (<a href=../files/Agent.html>Agents</a>) and spatial entities (<a href=../files/Cell.html>Cells</a>). The Environment must have only one <a href=../files/CellularSpace.html>CellularSpace</a> or <a href=../files/Trajectory.html>Trajectory</a> to place agents. It is possible to have more than one behavioural entity in the Environment. When distributing Agents over a Trajectory, the Agents will be able to move over the whole CellularSpace.</span>


	


<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>max</strong>: A number representing the maximum number of Agents that can enter in the same Cell when creating the placement. Default is having no limit. Using max is computationally efficient only when the number of Agents is considerably lower than the number of Cells times max. Otherwise, it is better to consider using the uniform strategy. Note that using this parameter does not force the simulation to have a maximum number of agents inside cells along the simulation - controlling the maximum is always up to the modeler.
    </li> 
    
  
    <li>
	  <strong>name</strong>: A string representing the name of the relation in TerraME objects. Default is "placement", which means that the modeler can use <a href=../files/Agent.html#enter>Agent:enter()</a>, <a href=../files/Agent.html#move>Agent:move()</a>, and <a href=../files/Agent.html#leave>Agent:leave()</a> directly. If the name is different from the default value, the modeler will have to use the last argument of these functions to indicate which relation they are changing or perform changes on these relations manually.
    </li> 
    
  
    <li>
	  <strong>strategy</strong>: A string containing the strategy to be used for creating a placement between Agents and Cells. See the options below:
    </li> 
    
      </span>
      <!-- Strategy of the parameter -->
       
      <table class="param_tab">
	  
      
        <tr>
        
          
            <th>
            Strategy
            </th>
          
          
            <th>
            Description
            </th>
          
          
            <th>
            Parameters
            </th>
          
        
        <tr>
        
          
            <td>
            "random"(default)
            </td>
          
          
            <td>
            Create placements between Agents and Cells randomly, putting each Agent in a Cell randomly chosen.
            </td>
          
          
            <td>
            max, name
            </td>
          
        
        <tr>
        
          
            <td>
            "uniform"
            </td>
          
          
            <td>
            Create placements uniformly. The first Agents enter in the first Cells. The last Cells will contain fewer Agents if the number of Agents is not proportional to the number of Cells. For example, placing a <a href=../files/Society.html>Society</a> with four Agents in a CellularSpace of three Cells will put two Agents in the first Cell and one in each other Cell.
            </td>
          
          
            <td>
            name
            </td>
          
        
        <tr>
        
          
            <td>
            "void"
            </td>
          
          
            <td>
            Create only the pointers for each object in each side, preparing the objects to be manipulated by the modeler.
            </td>
          
          
            <td>
            name
            </td>
          
        
        </tr>    
      </table>
      <span class="param">
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">environment</span> = <span class="function">Environment</span>{
    <span class="id">society</span>,
    <span class="id">cellularSpace</span>
}

<span class="id">environment</span>:<span class="function">createPlacement</span>{
    <span class="id">strategy</span> = <span class="string">"uniform"</span>
}

<span class="id">society</span>:<span class="function">sample</span>():<span class="function">walk</span>()</code></pre>



</dd>

    



<dt><h2><a name="execute">
</a><strong>execute</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Execute the Environment until a given time. It activates the <a href=../files/Timer.html>Timers</a> it contains, the Timers of the Environments it contains, and so on.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A positve integer number representing the time to stop the simulation. Timers stop when there is no <a href=../files/Event.html>Event</a> scheduled to a time less or equal to the final time.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">environment</span>:<span class="function">execute</span>(<span class="number">1000</span>)</code></pre>



</dd>

    



<dt><h2><a name="loadNeighborhood">
</a><strong>loadNeighborhood</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Load a <a href=../files/Neighborhood.html>Neighborhood</a> between two different <a href=../files/CellularSpace.html>CellularSpaces</a>.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>bidirect</strong>: If 'true' then for each relation from <a href=../files/Cell.html>Cell</a> a to Cell b, create also a relation from b to a. Default is 'false'.
    </li> 
    
  
    <li>
	  <strong>name</strong>: A string representing the name of the relation to be created. Default is '1'.
    </li> 
    
  
    <li>
	  <strong>source</strong>: A string representing the name of the file to be loaded.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">environment</span>:<span class="function">loadNeighborhood</span>{
    <span class="id">source</span> = <span class="string">"file.gpm"</span>,
    <span class="id">name</span> = <span class="string">"newNeigh"</span>
}</code></pre>



</dd>

    



<dt><h2><a name="notify">
</a><strong>notify</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Notify every <a href=../files/Observer.html>Observer</a> connected to the Environment.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: An positive integer number representing time to be used by the Observer. Most of the strategies available ignore this value, therefore it can be left empty.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">env</span>:<span class="function">notify</span>()</code></pre>



</dd>

    

</dl>





</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
