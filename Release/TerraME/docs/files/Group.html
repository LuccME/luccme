<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"><img src='../img/terrame.png'/><br/></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>TerraME</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->



<!-- Types list -->

<h1>Types</h1>
<ul>

		<li>
			<a href="../files/Agent.html">Agent</a>
		</li>
		
	

		<li>
			<a href="../files/Automaton.html">Automaton</a>
		</li>
		
	

		<li>
			<a href="../files/Cell.html">Cell</a>
		</li>
		
	

		<li>
			<a href="../files/CellularSpace.html">CellularSpace</a>
		</li>
		
	

		<li>
			<a href="../files/Coord.html">Coord</a>
		</li>
		
	

		<li>
			<a href="../files/Environment.html">Environment</a>
		</li>
		
	

		<li>
			<a href="../files/Event.html">Event</a>
		</li>
		
	

		<li>
			<a href="../files/Flow.html">Flow</a>
		</li>
		
	

		<li><strong>Group</strong></li>
		
	

		<li>
			<a href="../files/Jump.html">Jump</a>
		</li>
		
	

		<li>
			<a href="../files/Legend.html">Legend</a>
		</li>
		
	

		<li>
			<a href="../files/Neighborhood.html">Neighborhood</a>
		</li>
		
	

		<li>
			<a href="../files/Observer.html">Observer</a>
		</li>
		
	

		<li>
			<a href="../files/Random.html">Random</a>
		</li>
		
	

		<li>
			<a href="../files/SocialNetwork.html">SocialNetwork</a>
		</li>
		
	

		<li>
			<a href="../files/Society.html">Society</a>
		</li>
		
	

		<li>
			<a href="../files/State.html">State</a>
		</li>
		
	

		<li>
			<a href="../files/Timer.html">Timer</a>
		</li>
		
	

		<li>
			<a href="../files/Trajectory.html">Trajectory</a>
		</li>
		
	


</ul>


<!-- Files list -->

<h1>Files</h1>
<ul>




















		<li>
			<a href="../files/Utils.html">Utils</a>
		</li>
		
	

</ul>


</div> <!-- id="navigation" -->

<div id="content">

<h1><code>Group



</code></h1>


<span class="description"></span>









<span class="description">Type that defines an ordered selection over a <a href=../files/Society.html>Society</a>. It inherits Society; therefore it is possible to apply all functions of such type to a Group. For instance, calling <a href=../files/Utils.html#forEachAgent>forEachAgent()</a> also traverses Groups.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>build</strong>: A boolean value indicating whether the Group will be computed or not when created.
    </li> 
    
  
    <li>
	  <strong>greater</strong>: A function(<a href=../files/Agent.html>Agent</a>, Agent) : boolean, to sort the generated subset of Agents. It returns true if the first one has priority over the second one. See <a href=../files/Utils.html#greaterByAttribute>greaterByAttribute()</a>  as a predefined option to sort objects.
    </li> 
    
  
    <li>
	  <strong>select</strong>: A function(Agent) : boolean, to filter the Society, adding to the Group only those Agents whose returning value is true.
    </li> 
    
  
    <li>
	  <strong>target</strong>: The Society over which the Group will take place.
    </li> 
    
  
  </span></ul>



<!-- Outputs of the function -->
<p>Attributes of Group that can be used as <b>read-only</b> by the modeler:</p>
<ul>
<span class="output">
	
	<li>
	  <strong>agents</strong>: A vector of Agents pointed by the Group.
	</li>
	
	<li>
	  <strong>greater</strong>: The last function used to sort the Group.
	</li>
	
	<li>
	  <strong>parent</strong>: The Society where the Group takes place.
	</li>
	
	<li>
	  <strong>select</strong>: The last function used to filter the Group.
	</li>
	
</span>
</ul>





<h3>Usage</h3>
<pre class="example"><code><span class="id">group</span> = <span class="function">Group</span> {
    <span class="id">target</span> = <span class="id">society</span>,
    <span class="id">select</span> = <span class="reserved">function</span>(<span class="id">agent</span>)
        <span class="reserved">return</span> <span class="id">agent</span>.<span class="id">money</span> > <span class="number">90</span>
    <span class="reserved">end</span>,
    <span class="id">greater</span> = <span class="reserved">function</span>(<span class="id">a</span>, <span class="id">b</span>)
        <span class="reserved">return</span> <span class="id">a</span>.<span class="id">money</span> > <span class="id">b</span>.<span class="id">money</span>
    <span class="reserved">end</span>
}

<span class="id">groupBySize</span> = <span class="function">Group</span> {<span class="id">target</span> = <span class="id">society</span>, <span class="id">greater</span> = <span class="reserved">function</span>(<span class="id">a1</span>, <span class="id">a2</span>)
    <span class="reserved">return</span> <span class="id">a1</span>.<span class="function">size</span> > <span class="id">a2</span>.<span class="function">size</span>
<span class="reserved">end</span>}</code></pre>



</dd>



<h2 class="function_list">Functions</h2>
<table class="function_list">

	  <tr>
		<td class="name" nowrap><a href="#add">add</a>&nbsp;
	  <td class="summary">Add a new Agent to the Group.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#clone">clone</a>&nbsp;
	  <td class="summary">Clone the Group.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#filter">filter</a>&nbsp;
	  <td class="summary">Apply a filter over the original Society.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#randomize">randomize</a>&nbsp;
	  <td class="summary">Randomizes the Agents, changing the traversing order.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#rebuild">rebuild</a>&nbsp;
	  <td class="summary">Rebuild the Group from the original data using the last filter and sort functions.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="#sort">sort</a>&nbsp;
	  <td class="summary">Sort the current Society subset.</td>
    </tr>

	  <tr>
		<td class="name" nowrap><a href="##">#</a>&nbsp;
	  <td class="summary">Return the number of Agents of the Group.</td>
    </tr>


</table>





<!--<br/>
<br/>-->




	
<dl class="function">



<dt><h2><a name="add">
</a><strong>add</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Add a new <a href=../files/Agent.html>Agent</a> to the Group. It returns a boolean value indicating whether the Agent was sucessfully added.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: The Agent to be added.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">group</span>:<span class="function">add</span>(<span class="id">agent</span>)</code></pre>



</dd>

    



<dt><h2><a name="clone">
</a><strong>clone</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Clone the Group. It returns a copy  with the same parent, select, greater and <a href=../files/Agent.html>Agents</a>.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">group</span>:<span class="function">clone</span>()</code></pre>



</dd>

    



<dt><h2><a name="filter">
</a><strong>filter</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Apply a filter over the original <a href=../files/Society.html>Society</a>.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A function(agent)-> boolean, such as the argument select.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">group</span>:<span class="function">filter</span>(<span class="reserved">function</span>(<span class="id">agent</span>)
    <span class="reserved">return</span> <span class="id">agent</span>.<span class="id">age</span> > <span class="number">18</span>
<span class="reserved">end</span>)</code></pre>



</dd>

    



<dt><h2><a name="randomize">
</a><strong>randomize</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Randomizes the <a href=../files/Agent.html>Agents</a>, changing the traversing order.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: a <a href=../files/Random.html>Random</a> object. As default, TerraME uses its internal random number generator.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">group</span>:<span class="function">randomize</span>()</code></pre>



</dd>

    



<dt><h2><a name="rebuild">
</a><strong>rebuild</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Rebuild the Group from the original data using the last filter and sort functions.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">group</span>:<span class="function">rebuild</span>()</code></pre>



</dd>

    



<dt><h2><a name="sort">
</a><strong>sort</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Sort the current <a href=../files/Society.html>Society</a> subset. It returns whether the current Society was sorted.</span>




<!-- Function parameters -->
  <h3>Parameters</h3>
<ul><span class="param">

    <li>
	  <strong>1st</strong>: A function(ag1, ag2)-> boolean, an ordering function with the same signature of argument greater.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">group</span>:<span class="function">sort</span>(<span class="reserved">function</span>(<span class="id">ag1</span>, <span class="id">ag2</span>)
    <span class="reserved">return</span> <span class="id">ag1</span>.<span class="id">money</span> > <span class="id">ag2</span>.<span class="id">money</span>
<span class="reserved">end</span>)</code></pre>



<h3>See also</h3>
<ul>
	
	<li>
		
			<a href="../files/Utils.html#greaterByAttribute">Utils:greaterByAttribute	</a>
		
	</li>
	
</ul>

</dd>

    



<dt><h2><a name="#">
</a><strong>#</strong>&nbsp;
</h2></dt>
<dd>

<span class="description">Return the number of <a href=../files/Agent.html>Agents</a> of the Group.</span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">print</span>(#<span class="id">group</span>)</code></pre>



</dd>

    

</dl>





</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
